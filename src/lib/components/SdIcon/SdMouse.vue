<template>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="23"
    height="39"
    viewBox="0 0 23 39"
    class="sd--mouse-icon"
  >
    <g
      fill="#FFF"
      fill-rule="evenodd"
    >
      <path
        id="mouse-outer-path"
        d="M12.5516393,0 C15.313063,0 17.813063,1.11928813 19.6227071,2.92893219 C21.4323512,4.73857625 22.5516393,7.23857625 22.5516393,10 C22.5516393,10.3334563 22.5349603,10.6667039 22.5016649,10.9984938 L21.7432422,18.5562023 L22.3195286,27.4573295 C22.5129635,30.4450598 21.4770689,33.228347 19.6458831,35.3130602 C17.8146972,37.3977735 15.18822,38.7839129 12.2004896,38.9773478 C11.9672982,38.9924453 11.7336796,39 11.5,39 C8.50601443,39 5.79546921,37.7864476 3.83342039,35.8243987 C1.87137156,33.8623499 0.657819133,31.1518047 0.657819133,28.1578191 C0.657819133,27.9241395 0.665373818,27.6905209 0.68047135,27.4573295 L1.2558415,18.5703546 L0.316155047,11.2780295 C-0.0367630431,8.53925054 0.753839085,5.91670327 2.31736546,3.89062121 C3.88089184,1.86453915 6.21734247,0.434922289 8.95612139,0.0820041993 C9.37994151,0.0273908874 9.80682649,0 10.2341508,0 L12.5516393,0 Z M12.5516393,1 L10.2341508,1 C9.84955892,1 9.46536244,1.0246518 9.08392433,1.07380378 C4.15412229,1.70905634 0.672702065,6.22042447 1.30795463,11.1502265 L1.30795463,11.1502265 L2.26,18.5384615 L1.67838208,27.5219373 C1.66467703,27.7336209 1.65781913,27.9456923 1.65781913,28.1578191 C1.65781913,33.5935055 6.0643136,38 11.5,38 C11.7121268,38 11.9241982,37.9931421 12.1358818,37.9794371 C17.5602116,37.6282492 21.6728058,32.9462671 21.3216179,27.5219373 L21.3216179,27.5219373 L20.74,18.5384615 L21.5066623,10.8986444 C21.5366282,10.6000335 21.5516393,10.3001107 21.5516393,10 C21.5516393,5.02943725 17.522202,1 12.5516393,1 L12.5516393,1 Z"
      />
      <path
        id="mouse-inner-path"
        d="M11,0 L12,0 L12,2.76923077 L12,6 L12,17.5 C12,17.7761424 11.7761424,18 11.5,18 C11.2238576,18 11,17.7761424 11,17.5 L11,6 L11,6 L11,4.15384615 L11,0 Z"
      />
      <path
        class="sd--anim wheel"
        d="M11.5,3 C12.3284271,3 13,3.67157288 13,4.5 L13,11.5 C13,12.3284271 12.3284271,13 11.5,13 C10.6715729,13 10,12.3284271 10,11.5 L10,4.5 C10,3.67157288 10.6715729,3 11.5,3 Z"
      />
      <path
        class="sd--anim arrow"
        d="M16,8.5 C16,8.22385763 16.2238576,8 16.5,8 C16.7761424,8 17,8.22385763 17,8.5 L17,13 L19,13 L16.5,16 L14,13 L16,13 L16,8.5 Z"
      />
      <g transform="translate(0 1)">
        <g
          v-if="hover"
          fill-opacity=".5"
          transform="translate(1)"
        >
          <path
            fill="url(#mouse-graphic-events-b)"
            d="M2,16 C3,18 3,23 6,23 C8,23 9.33333333,21 10,17 L10,0 C4.66666667,0 1.33333333,2.66666667 0,8 C0.666666667,11.3333333 1.33333333,14 2,16 Z"
          />
          <path
            fill="url(#mouse-graphic-events-c)"
            d="M6.83589941,18.3905996 C6.6129929,18.7249594 6.36842105,19 6,19 C5.13509849,17.997822 4.9118605,16.8560625 4.66000497,15.8347756 C4.41712442,14.8498827 4.17010757,13.9311587 3.85958358,13.2534464 C3.25623479,11.4194797 1.60314765,9.96032541 1,7 C1,5 1.72648737,3.0188101 3,2 C3.90067287,1.27946171 6.73784483,0.222552394 8,1.13686838e-13 L8,14.8313789 C7.72934343,16.3942279 7.3677592,17.5928099 6.83589941,18.3905996 Z"
          />
        </g>
      </g>
      <g transform="translate(12 1)">
        <g
          v-if="hover"
          fill-opacity=".5"
        >
          <path
            fill="url(#mouse-graphic-events-d)"
            d="M8,16 C7,18 7,23 4,23 C2,23 0.666666667,21 0,17 C0,14.5555556 0,12.2222222 0,10 C0,7.77777778 0,4.44444444 0,0 C5.33333333,0 8.66666667,2.66666667 10,8 C9.33333333,11.3333333 8.66666667,14 8,16 Z"
          />
          <path
            fill="url(#mouse-graphic-events-e)"
            d="M7.83589941,18.3905996 C7.6129929,18.7249594 7.36842105,19 7,19 C6.13509849,17.997822 5.9118605,16.8560625 5.66000497,15.8347756 C5.41712442,14.8498827 5.17010757,13.9311587 4.85958358,13.2534464 C4.25623479,11.4194797 2.60314765,9.96032541 2,7 C2,5 2.72648737,3.0188101 4,2 C4.90067287,1.27946171 7.73784483,0.222552394 9,0 L9,14.8313789 C8.72934343,16.3942279 8.3677592,17.5928099 7.83589941,18.3905996 Z"
            transform="matrix(-1 0 0 1 11 0)"
          />
        </g>
      </g>
    </g>
  </svg>
</template>

<script lang="ts">
import anime from 'animejs'
import { onMounted, defineComponent } from 'vue'

export default defineComponent({
  name: 'SdIconMouse',
  props: {
    hover: Boolean,
    delay: {
      type: Number,
      default: 0
    }
  },
  setup (props) {
    onMounted(() => {
      const tl = anime.timeline({
        targets: '.sd--anim',
        loop: true,
        duration: 1440,
        delay: props.delay
      })
      tl.add({
        // 360
        targets: '.wheel',
        translateY: 4,
        duration: 360,
        easing: 'easeInQuad'
      }).add({
        // 720
        targets: '.arrow',
        keyframes: [
          { opacity: 0.5, translateY: 6, easing: 'easeInQuad' },
          { opacity: 0, translateY: 12, easing: 'easeOutQuad' }
        ]
      }).add({
        // 1080
        targets: '.wheel',
        easing: 'easeOutQuad',
        translateY: 0
      }, '-=360')
    })
  }
})
</script>

<style lang="scss">
.sd--mouse-icon{
  g {
    fill: var(--sd-background-inverse);
  }
}
.arrow {
  opacity: 0;
}
</style>
